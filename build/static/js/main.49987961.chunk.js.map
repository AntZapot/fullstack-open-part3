{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Name.js","components/Persons.js","services/personsServices.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","Notification","classes","message","className","PersonForm","props","fnName","fnNumber","fnSubmit","newName","newNumber","onSubmit","type","Name","handleDelete","name","number","id","onClick","Persons","namesFilter","persons","person","toLowerCase","includes","map","baseUrl","axios","get","then","res","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setClasses","useEffect","personsServices","e","target","preventDefault","nameObj","some","obj","window","confirm","setTimeout","catch","err","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49987961.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, handleFilter}) => {\n    return (\n    <div>\n        filter show by name: <input value={filter} onChange={handleFilter}/>\n    </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Notification = ({ classes, message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className={classes}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst PersonForm = (props) => {\n    const {fnName, fnNumber, fnSubmit, newName, newNumber} = props;\n    return (\n        <form onSubmit={fnSubmit}>\n        <div>\n            name: <input value={newName} onChange={fnName}/>\n            <br/>\n            number: <input value={newNumber} onChange={fnNumber}/>\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Name = ({handleDelete, name, number, id}) => {\n    return (\n        <div>\n            <p>{name} {number}</p>\n            <button onClick={() => handleDelete(name, id)}>Delete</button>\n        </div>\n    )\n}\n\nexport default Name\n","import React from 'react'\nimport Name from './Name'\n\nconst Persons = ({filter, handleDelete, persons}) => {\n    const namesFilter = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()) );\n    return (\n        <div>\n            {namesFilter.map(\n                person => (\n                    <Name id={person.id} handleDelete={handleDelete} key={person.name} name={person.name} number={person.number}/>\n                )\n            )}\n        </div>\n    )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(res => res.data);\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject);\n}\n\nconst update = (newObject, id) => {\n    return axios.put(`${baseUrl}/${id}`, newObject);\n}\n\nconst deletePerson = id => {\n    return axios.delete(`${baseUrl}/${id}`);\n}\n\nexport default { getAll, create, deletePerson, update }","import React, { useEffect, useState } from 'react';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personsServices from './services/personsServices'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState(null)\n  const [classes, setClasses] = useState(\"success\")\n\n  useEffect(() => {\n      personsServices\n        .getAll()\n        .then(res => {\n          setPersons(res)\n        })\n  }, [])\n\n  const handleDelete = (name, id) => {\n    const result = window.confirm(`Delete ${name}`)\n    result && \n    personsServices\n        .deletePerson(id)\n        setPersons(persons.filter(person => person.id !== id))\n}\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const nameObj = {\n      name: newName,\n      number: newNumber\n    }\n\n    const result = persons.some(person => person.name.toLowerCase() === newName.toLowerCase());\n\n    if(result) {\n      const obj = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase())\n      const replace = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n      replace \n        && personsServices\n          .update(nameObj, obj[0].id)\n          .then(res => {\n            setPersons(persons.map(person => person.id !== obj[0].id ? person : res.data))\n            setNewName('')\n            setNewNumber('')\n            setClasses(\"success\")\n            setMessage(`Changes Saved`);\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n          .catch((err) => {\n            setClasses(\"error\")\n            setMessage(`Information of ${newName} has already been removed from server`);\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n    }else {\n      personsServices\n        .create(nameObj)\n        .then(res => {\n          setPersons(persons.concat(res.data))\n          setNewName('')\n          setNewNumber('')\n          setClasses(\"success\")\n          setMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n  }\n  const handleInputChangeName = (e) => {\n    setNewName(e.target.value);\n  }\n\n  const handleInputChangeNumber = (e) => {\n    setNewNumber(e.target.value);\n  }\n\n  const handleFilter = (e) => {\n    setFilter((e.target.value));\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter filter={filter} handleFilter={handleFilter}/>\n\n      <Notification classes={classes} message={message}/>\n\n      <h2>Add a new</h2>\n      <PersonForm\n        fnName={handleInputChangeName}\n        fnNumber={handleInputChangeNumber}\n        fnSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      \n      <h2>Numbers</h2>\n      <Persons filter={filter} handleDelete={handleDelete} persons={persons}/>\n      \n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}